#:import Window	kivy.core.window.Window
#:import ScrollEffect kivy.effects.scroll.ScrollEffect




<CircleImage@Image>:
<ClickableImage@ButtonBehavior+Image>

<LineWidget@Widget>:
    size_hint_x: None
    size_hint_y: None
    width: Window.width
    height: Window.height * 0.001
    pos_hint: {'center_x': 0.5}
    canvas.before:
        Color:
            rgba: 0.3, 0.3, 0.3, 1
        Rectangle:
            pos: self.pos
            size: self.size

<HeaderLabel@Label>:
    size_hint_y: None
    height: Window.height * 0.1
    color: 0.3, 0.3, 0.3, 1
    text: "Washing Machine Job"
    text_size: self.width, None
    halign: 'left'
    valign: 'center'
    font_size: sp(22)
    bold: True

<ImageLabel@BoxLayout>:
	text: ""
	source: ""
	size_hint_y: None
	height:	Window.height * 0.03
	orientation: "horizontal"
	spacing: dp(10)

	Image:
		size_hint_x: 0.2
		color: 0.3, 0.3, 0.3, 1
		source: root.source

	Label:
		color: 0.3, 0.3, 0.3, 1
		text: root.text
		text_size: self.width, None
		halign: 'left'
        valign: 'center'
		font_size: sp(14)

<BackWidget@BoxLayout>:
	release: lambda: None
    orientation: "horizontal"
    size_hint_x: None
    size_hint_y: None
    width: Window.width
	height:	Window.height * 0.03
    pos_hint: {'center_x': 0.5}
    
    ClickableImage:
        size_hint_x: 0.1
        source: "assets/back.png"
        color: 0.3, 0.3, 0.3, 1
        on_release: root.release()
    
    Widget:
        size_hint_x: 0.9

# <LabelLabel@BoxLayout>:
#     text: ""
# 	text2: ""
# 	label1_size_hint: (0.5, 1) 
# 	label2_size_hint: (0.5, 1) 
#     size_hint_y: None
# 	height:	Window.height * 0.05
#     padding: [dp(10), dp(10)]

#     canvas.before:
# 		Color:
# 			rgba: 1, 1, 1, 1
# 		Rectangle:
# 			size: self.size
#             pos: self.pos
        
#         Color:
# 			rgba: 0.6, 0.6, 0.6, 1
#         Line:
#             rectangle: self.x, self.y, self.width, self.height

#     Label:
#         size_hint: root.label1_size_hint
#         text: self.parent.text
#         text_size: self.width, None
#         halign: 'left'
#         valign: 'center'
#         color: 0.3, 0.3, 0.3, 1

# 		shorten: True
#         shorten_from: 'right'
#         ellipsis_options: {'color': (1, 0, 0, 1)}

#     Label:
# 		size_hint: root.label2_size_hint
# 		text: self.parent.text2
#         size_hint_x: 0.5

# 		text_size: self.width, None
# 		halign: 'right'
#         valign: 'center'
#         color: 0.3, 0.3, 0.3, 1

# 		shorten: True
#         shorten_from: 'right'
#         ellipsis_options: {'color': (1, 0, 0, 1)}

<LabelLabel@BoxLayout>:
    text: ""
    text2: ""
    label1_size_hint: (0.5, 1)
    label2_size_hint: (0.5, 1)
    font_size: sp(14)
	is_readonly: True
    size_hint_y: None
    height: Window.height * 0.05
    padding: [dp(10), dp(10)]

    canvas.before:
        Color:
            rgba: 1, 1, 1, 1
        Rectangle:
            size: self.size
            pos: self.pos

        Color:
            rgba: 0.6, 0.6, 0.6, 1
        Line:
            rectangle: self.x, self.y, self.width, self.height

    Label:
        size_hint: root.label1_size_hint
        text: root.text
        text_size: self.width, None
        halign: 'left'
        valign: 'center'
        color: 0.3, 0.3, 0.3, 1

        shorten: True
        shorten_from: 'right'
        ellipsis_options: {'color': (1, 0, 0, 1)}
        font_size: root.font_size

    TextInput:
        size_hint: root.label2_size_hint
        text: root.text2
        multiline: False
        halign: 'right'
        valign: 'center'
        background_color: 0, 0, 0, 0 
        foreground_color: (0.3, 0.3, 0.3, 1) if not self.readonly else (0.6, 0.6, 0.6, 1)

		text_size: self.size
        readonly: root.is_readonly
        cursor_color: 1, 0, 0, 1
        padding_y: [self.height / 2 - self.line_height * 0.6, 0]
        font_size: root.font_size


<SpaceWidget@Widget>:
    size_hint_y: None
    height: Window.height * 0.025

<TextInputImage>
    password: False
	hint_text: ''
	padding: [dp(10), dp(10)]

	size_hint_y: None
	height:	dp(40)
	canvas.before:
		Color:
			rgba: 0.95,	0.95, 0.95,	1 

		RoundedRectangle:
			size: self.size
			pos: self.pos
			radius:	[dp(10)]

        Color:
            rgba: 0.5, 0.5, 0.5, 1

        Line:
            rounded_rectangle: self.x, self.y, self.width, self.height, dp(10), dp(10), dp(10), dp(10)

	TextInput:
        id: text_input
        text: root.text
        on_text: root.text = self.text
        password: root.password
		hint_text: root.hint_text
		background_color: 1, 1, 1, 0
		foreground_color: 0.3, 0.3,	0.3, 1
		padding: root.padding
		font_size: sp(14)

		size: root.size
		pos: root.pos

<CustomButton@Button>
	default_color: 80/255, 160/255,	170/255, 1
    pressed_color: 60/255, 140/255,	150/255, 1  

	background_normal: ''
	background_color: 0, 0, 0, 0
	color: 1, 1, 1, 1
	bold: True

	canvas.before:
		Color:
			rgba: self.pressed_color if self.state == 'down' and not self.disabled else self.default_color
		RoundedRectangle:
			size: self.size
			pos: self.pos
			radius:	[dp(10)]
        
        Color:
			rgba: (0, 0, 0, 0.3) if self.disabled else (0, 0, 0, 0)
		RoundedRectangle:
			size: self.size
			pos: self.pos
			radius:	[dp(10)]

		Color:
			rgba: 0, 0, 0, 1
		Line:
			width: 1
			rounded_rectangle: [self.x,	self.y,	self.width,	self.height, dp(10)]	

<CustomToggleButton@ToggleButton>
	default_color: 80/255, 160/255,	170/255, 1
    pressed_color: 40/255, 120/255,	130/255, 1  

	background_normal: ''
	background_color: 0, 0, 0, 0
	color: 1, 1, 1, 1
	bold: True

    size_hint_x: None
    width: self.texture_size[0] + dp(20)

	canvas.before:
		Color:
			rgba: self.pressed_color if self.state == 'down' and not self.disabled else self.default_color
		RoundedRectangle:
			size: self.size
			pos: self.pos
			radius:	[dp(10)]
        
        Color:
			rgba: (0, 0, 0, 0.3) if self.disabled else (0, 0, 0, 0)
		RoundedRectangle:
			size: self.size
			pos: self.pos
			radius:	[dp(10)]

		Color:
			rgba: 0, 0, 0, 1
		Line:
			width: 1
			rounded_rectangle: [self.x,	self.y,	self.width,	self.height, dp(10)]

<OfferWidget@BoxLayout>:
	orientation: "vertical"	
    size_hint_y: None
	height: Window.height * 0.2
	padding: [dp(10), dp(10)]

	canvas.before:
		Color:
			rgba: (1, 1, 1, 1)
		RoundedRectangle: 
			size: self.size
			pos: self.pos
	
	Label:
		size_hint_y: None
		height: self.parent.height * 0.2
		text: "Washing Machine Job AHAHAHHAHAHAHAHHAHAH	"
		text_size: self.width, None
		halign: 'left'
		valign: 'center'
		font_size: sp(16)
		color: 0.2, 0.2, 0.2, 1
		shorten: True
		shorten_from: 'right'

	BoxLayout:
		orientation: 'horizontal'
		size_hint_y: None
		height: self.parent.height * 0.2
		
		Label:
			text: "Posted: 3 days ago"
			halign: 'left'
			valign: 'middle'
			color: 0.5, 0.5, 0.5, 1
			size_hint_x: 0.6
			text_size: self.width, None
			font_size: sp(12)

		Label:
			text: "Rate: $25/hour"
			halign: 'right'
			valign: 'middle'
			color: 0.2, 0.7, 0.2, 1
			size_hint_x: 0.4
			text_size: self.width, None
			font_size: sp(12)
	
	Widget:
		size_hint_y: None
		height: self.parent.height * 0.3

	BoxLayout:
		orientation: 'horizontal'
		size_hint_y: None
		height: self.parent.height * 0.2

		Widget:
			size_hint_x: 0.6

		CustomButton:
			id: apply_button
			text: "Apply Now"
			size_hint_x: 0.4
			on_release: app.apply_for_job()

<CustomPopup>:
    title: "Scrollable Popup"
	title_color: 0.2, 0.2, 0.2, 1
    size_hint: 0.8, 0.5
    auto_dismiss: False
    background_color: 1, 1, 1, 1
	background: ""
	text_content: ""

	canvas.before:
		Color:
			rgba: 1, 1, 1, 1
		Rectangle:
			size: self.size
			pos: self.pos

    BoxLayout:
        orientation: 'vertical'

        ScrollView:
            Label:
                id: scroll_label
                text: root.text_content
                text_size: self.width, None
                size_hint_y: None
                height: self.texture_size[1]
                padding: dp(10), dp(10)
				color: 0.3, 0.3, 0.3, 1

        CustomButton:
            text: "CLOSE"
            size_hint_y: None
            height: dp(40)
            on_release: root.dismiss()

<CustomTextInput@TextInput>:
    size_hint_y: None
    height: dp(30)
    font_size: sp(12)
    color: 0.3, 0.3, 0.3, 1

    background_color: 0.95, 0.95, 0.95, 1
    background_normal: ""
    halign: 'left'
    valign: 'center'
    foreground_color: 0.3, 0.3, 0.3, 1

    shorten: True
    shorten_from: 'right'
    ellipsis_options: {'color': (1, 0, 0, 1)}

    multiline: False
    canvas.before:
        Color:
            rgba: 0.3, 0.3, 0.3, 1
        Line:
            rectangle: self.x, self.y, self.width, self.height

<MainStackLayout@StackLayout>:
	orientation: 'lr-tb'
	size_hint: (0.98, None)
	height:	Window.height

	spacing: dp(10)
	padding: [dp(10), dp(10)]
	pos_hint: {'center_x': 0.5,	'center_y':	0.5}










# -----------------------------------------------------------
#  TABLE 
# -----------------------------------------------------------

<HeaderTableLabel@Label>:
    size_hint_y: None
    height: dp(30)
    font_size: sp(12)
    bold: True
    shorten: True
    shorten_from: 'right'
    ellipsis_options: {'color': (1, 0, 0, 1)}
    canvas.before:
        Color:
            rgba: 80/255, 160/255, 170/255, 1
        Rectangle:
            size: self.size
            pos: self.pos
        
        Color:
            rgba: 0.3, 0.3, 0.3, 1
        Line:
            rectangle: self.x, self.y, self.width, self.height

<EvenLabel>:
    size_hint_y: None
    height: dp(30)
    font_size: sp(12)
    color: 0.2, 0.2, 0.2, 1

    shorten: True
    shorten_from: 'right'
    ellipsis_options: {'color': (1, 0, 0, 1)}
    canvas.before:
        Color:
            rgba: 0.95, 0.95, 0.95, 1
        Rectangle:
            size: self.size
            pos: self.pos
        
        Color:
            rgba: 0.2, 0.2, 0.2, 1
        Line:
            rectangle: self.x, self.y, self.width, self.height

<OddLabel>:
    size_hint_y: None
    height: dp(30)
    font_size: sp(12)
    color: 0.2, 0.2, 0.2, 1
    shorten: True
    shorten_from: 'right'
    ellipsis_options: {'color': (1, 0, 0, 1)}
    canvas.before:
        Color:
            rgba: 1, 1, 1, 1
        Rectangle:
            size: self.size
            pos: self.pos
        
        Color:
            rgba: 0.2, 0.2, 0.2, 1
        Line:
            rectangle: self.x, self.y, self.width, self.height


<TableButton@Button>:
    size_hint_y: None
    height: dp(30)
    font_size: sp(12)
    color: 0.3, 0.3, 0.3, 1
    shorten: True
    shorten_from: 'right'
    color: 1, 1, 1, 1
    bold: True
    ellipsis_options: {'color': (1, 0, 0, 1)}
    background_color: 1, 1, 1, 0
    background_normal: ""
    canvas.before:
        Color:
            rgba: (0.7, 0.7, 0.7, 1) if self.state != "down" else (80/255,	160/255, 170/255, 1)
        RoundedRectangle:
            size: self.size
            pos: self.pos
            radius: [dp(10)]
        
        Color:
            rgba: 0.3, 0.3, 0.3, 1
        Line:
            width: 1
            rounded_rectangle: self.x, self.y, self.width, self.height, dp(10), dp(10), dp(10), dp(10)

<TableView>:
    do_scroll_x: False
    do_scroll_y: True
    size_hint_y: None
    height: Window.height * 0.7

    canvas.before:
        Color:
            rgba: 0.9, 0.9, 0.9, 1
        RoundedRectangle:
            size: self.size
            pos: self.pos
            radius: [dp(10), dp(10), dp(10), dp(10)]
        Color:
            rgba: 0.3, 0.3, 0.3, 1
        Line:
            rounded_rectangle: self.x, self.y, self.width, self.height, dp(10), dp(10), dp(10), dp(10) 







# <AdminTable>:
#     orientation: "lr-tb"
#     size_hint_y: None
#     height: Window.height * 0.6

<AdminTableHeader@Label>:
    text: ""
    size_hint_y: None
    height: Window.height * 0.04

    canvas.before:
        Color:
            rgba: 100/255,	180/255, 190/255, 1
        Rectangle:
            size: self.size
            pos: self.pos
        
        Color:
            rgba: 0.1, 0.1, 0.1, 1
        Line:
            rectangle: self.x, self.y, self.width, self.height

<EmployeesHeaderGrid@GridLayout>:
    size_hint_y: None
    height: Window.height * 0.03
    cols: 2
    Label:
        text: "NAME"
        color: 0.3, 0.3, 0.3, 1
        font_size: sp(14)
        bold: True
    Label:
        text: "VIEW"
        color: 0.3, 0.3, 0.3, 1
        font_size: sp(14)
        bold: True

<EmployeeScheduleHeaderGrid@GridLayout>:
    size_hint_y: None
    height: Window.height * 0.03
    cols: 4
    Label:
        text: "DATE"
        color: 0.3, 0.3, 0.3, 1
        font_size: sp(14)
        bold: True
    Label:
        text: "FROM"
        color: 0.3, 0.3, 0.3, 1
        font_size: sp(14)
        bold: True
    Label:
        text: "TO"
        color: 0.3, 0.3, 0.3, 1
        font_size: sp(14)
        bold: True
    Label:
        text: "DESC"
        color: 0.3, 0.3, 0.3, 1
        font_size: sp(14)
        bold: True

<AttendanceHeaderGrid@GridLayout>:
    size_hint_y: None
    height: Window.height * 0.03
    cols: 4
    Label:
        text: "NAME"
        color: 0.3, 0.3, 0.3, 1
        font_size: sp(12)
        bold: True
    Label:
        text: "TIME IN"
        color: 0.3, 0.3, 0.3, 1
        font_size: sp(12)
        bold: True
    Label:
        text: "TIME OUT"
        color: 0.3, 0.3, 0.3, 1
        font_size: sp(12)
        bold: True
    Label:
        text: "DATE"
        color: 0.3, 0.3, 0.3, 1
        font_size: sp(12)
        bold: True

<AdminTableGrid@GridLayout>:
    size_hint_y: None
    height: self.minimum_height
    row_default_height: dp(30)
    row_force_default: True
    spacing: dp(1)
    cols: 2

<AdminTable>:
    orientation: "lr-tb"
    size_hint_y: None
    height: Window.height * 0.6

