#:import Window kivy.core.window.Window


<CircleImage@Image>:

<TextInputImage@Widget>
	hint_text: ''
	size_hint_y: None
	height: dp(40)
	canvas.before:
		Color:
			rgba: 0.95, 0.95, 0.95, 1 
		RoundedRectangle:
			size: self.size
			pos: self.pos
			radius: [dp(10)]

	TextInput:
		hint_text: self.parent.hint_text
		background_color: 1, 1, 1, 0
		foreground_color: 0.3, 0.3, 0.3, 1
		padding: [dp(10), dp(10)]
		font_size: sp(14)

		size: self.parent.size
		pos: self.parent.pos

<CustomButton@Button>
	default_color: 120/255, 200/255, 210/255, 1  
	pressed_color: 80/255, 160/255, 170/255, 1  

	background_normal: ''
	background_color: 0, 0, 0, 0
	color: 1, 1, 1, 1
	bold: True

	canvas.before:
		Color:
			rgba: self.pressed_color if self.state == 'down' else self.default_color
		RoundedRectangle:
			size: self.size
			pos: self.pos
			radius: [dp(10)]

		Color:
			rgba: 0, 0, 0, 1
		Line:
			width: 1
			rounded_rectangle: [self.x, self.y, self.width, self.height, dp(10)] 


<Login>:
	name: 'login'
	canvas.before:
		Color:
			rgba: 1, 1, 1, 1
		Rectangle:
			source: 'assets/login-bg.png'
			size: Window.size

	BoxLayout:
		orientation: 'vertical'
		size_hint: (0.8, None)
		height: self.minimum_height

		spacing: dp(10)
		padding: [dp(20), dp(20)]
		pos_hint: {'center_x': 0.5, 'center_y': 0.5}

		Widget:
			size_hint_y: None
			height: Window.width*0.7

		# Space between button and label
		Widget:
			size_hint_y: None
			height: dp(20)


		TextInputImage:
			hint_text: 'Email'

		TextInputImage:
			hint_text: 'Password'

		# Login Button
		CustomButton:
			text: 'Login'
			size_hint_y: None
			height: dp(40)
			on_release: self.login()

		Label:
			text: 'Forgot Password?'
			size_hint_y: None
			height: dp(30)
			valign: 'top'
			color: 0, 0.5, 1, 1  

		Label:
			text: 'Don\'t have an account? [color=#29AFC3][ref=signup]Sign up[/ref][/color]'
			markup: True
			size_hint_y: None
			height: dp(30)
			color: 0.3, 0.3, 0.3, 1
			on_ref_press: self.parent.parent.open_signup()

<Register>
	name: 'register'
	canvas.before:
		Color:
			rgba: 1, 1, 1, 1
		Rectangle:
			source: 'assets/register-bg.png'
			size: Window.size

	BoxLayout:
		orientation: 'vertical'
		size_hint: (0.9, None)
		height: self.minimum_height

		spacing: dp(10)
		padding: [dp(20), dp(20)]
		pos_hint: {'center_x': 0.5, 'center_y': 0.5}

		Widget:
			size_hint_y: None
			height: dp(50)

		Widget:
			size_hint_y: None
			height: dp(10)

		BoxLayout:
			orientation: 'horizontal'
			spacing: dp(5)
			size_hint_y: None
			height: dp(40)

			TextInputImage:
				size_hint_x: 0.4
				hint_text: 'Last Name'

			TextInputImage:
				size_hint_x: 0.4
				hint_text: 'First Name'

			TextInputImage:
				size_hint_x: 0.2
				hint_text: 'MI'


		TextInputImage:
			hint_text: 'Email / Username'

		TextInputImage:
			hint_text: 'Mobile No.'

		TextInputImage:
			hint_text: 'Address'

		TextInputImage:
			hint_text: 'Gender'

		TextInputImage:
			hint_text: 'Date of Birth'

		TextInputImage:
			hint_text: 'Password'

		TextInputImage:
			hint_text: 'Confirm Password'

		CustomButton:
			text: 'Register'
			size_hint_y: None
			height: dp(40)
			on_release: self.register()

		Label:
			text: 'Already have an account? [color=#29AFC3][ref=signup]Sign in[/ref][/color]'
			markup: True
			size_hint_y: None
			height: dp(30)
			color: 0.3, 0.3, 0.3, 1
			on_ref_press: self.parent.parent.open_login()


<Manager>:
	size: Window.size

	Login:
	Register:
